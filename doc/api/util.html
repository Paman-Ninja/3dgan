<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module util</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>util</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/mnt/research/projects/autoencoders/util.py">/mnt/research/projects/autoencoders/util.py</a></font></td></tr></table>
    <p><tt>Useful&nbsp;utility&nbsp;functions.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="cv2.html">cv2</a><br>
<a href="numpy.html">numpy</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="pickle.html">pickle</a><br>
<a href="re.html">re</a><br>
<a href="shutil.html">shutil</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
<a href="tensorflow.html">tensorflow</a><br>
<a href="time.html">time</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-average_gradients"><strong>average_gradients</strong></a>(tower_grads)</dt><dd><tt>Average&nbsp;the&nbsp;gradients&nbsp;from&nbsp;all&nbsp;GPU&nbsp;towers.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;tower_grads:&nbsp;List,&nbsp;tuples&nbsp;of&nbsp;(grad,&nbsp;var)&nbsp;values.<br>
&nbsp;<br>
Returns:&nbsp;<br>
&nbsp;&nbsp;A&nbsp;list&nbsp;containing&nbsp;the&nbsp;averaged&nbsp;gradients&nbsp;in&nbsp;(grad,&nbsp;var)&nbsp;form.</tt></dd></dl>
 <dl><dt><a name="-checkpoints"><strong>checkpoints</strong></a>(workspace_dir, only_recent=False)</dt></dl>
 <dl><dt><a name="-chunks"><strong>chunks</strong></a>(l, n)</dt><dd><tt>Yield&nbsp;successive&nbsp;n-sized&nbsp;chunks&nbsp;from&nbsp;l.</tt></dd></dl>
 <dl><dt><a name="-collection_to_dict"><strong>collection_to_dict</strong></a>(collection)</dt><dd><tt>#&nbsp;TODO:&nbsp;improve&nbsp;this</tt></dd></dl>
 <dl><dt><a name="-default_to_cpu"><strong>default_to_cpu</strong></a>(func)</dt><dd><tt>Decorator&nbsp;to&nbsp;default&nbsp;all&nbsp;variables&nbsp;to&nbsp;the&nbsp;CPU.<br>
&nbsp;<br>
Primarily&nbsp;used&nbsp;for&nbsp;defining&nbsp;model&nbsp;init&nbsp;functions.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;func:&nbsp;Function,&nbsp;function&nbsp;to&nbsp;call&nbsp;within&nbsp;CPU&nbsp;scope.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;A&nbsp;decorator/wrapper&nbsp;function.</tt></dd></dl>
 <dl><dt><a name="-default_training"><strong>default_training</strong></a>(train_op)</dt><dd><tt>Trainining&nbsp;function&nbsp;that&nbsp;just&nbsp;runs&nbsp;an&nbsp;op&nbsp;(or&nbsp;list&nbsp;of&nbsp;ops).</tt></dd></dl>
 <dl><dt><a name="-fold"><strong>fold</strong></a>(sess, x_input, ops, data, batch_size, num_batches)</dt><dd><tt>Runs&nbsp;each&nbsp;op&nbsp;on&nbsp;the&nbsp;data&nbsp;in&nbsp;batches&nbsp;and&nbsp;returns&nbsp;the&nbsp;average&nbsp;value&nbsp;for&nbsp;each&nbsp;op.</tt></dd></dl>
 <dl><dt><a name="-format_for_terminal"><strong>format_for_terminal</strong></a>(results, prev_results)</dt></dl>
 <dl><dt><a name="-init_optimizer"><strong>init_optimizer</strong></a>(args)</dt><dd><tt>Helper&nbsp;function&nbsp;to&nbsp;initialize&nbsp;an&nbsp;optimizer&nbsp;from&nbsp;given&nbsp;arguments.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;args:&nbsp;Argparse&nbsp;structure.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;An&nbsp;initialized&nbsp;optimizer.</tt></dd></dl>
 <dl><dt><a name="-merge_all_summaries"><strong>merge_all_summaries</strong></a>()</dt><dd><tt>Shorthand&nbsp;to&nbsp;get&nbsp;all&nbsp;summaries&nbsp;and&nbsp;merge&nbsp;them&nbsp;into&nbsp;one&nbsp;op.</tt></dd></dl>
 <dl><dt><a name="-message"><strong>message</strong></a>(*args)</dt></dl>
 <dl><dt><a name="-reload_session"><strong>reload_session</strong></a>(dir, fn=None)</dt></dl>
 <dl><dt><a name="-save_settings"><strong>save_settings</strong></a>(sess, args)</dt><dd><tt>Writes&nbsp;settings&nbsp;and&nbsp;model&nbsp;graph&nbsp;to&nbsp;disk.</tt></dd></dl>
 <dl><dt><a name="-summarize_collection"><strong>summarize_collection</strong></a>(name, scope)</dt><dd><tt>Add&nbsp;a&nbsp;scalar&nbsp;summary&nbsp;for&nbsp;every&nbsp;tensor&nbsp;in&nbsp;a&nbsp;collection.</tt></dd></dl>
 <dl><dt><a name="-tensor_name"><strong>tensor_name</strong></a>(x)</dt><dd><tt>Remove&nbsp;tower&nbsp;prefix&nbsp;from&nbsp;tensor&nbsp;name.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;x:&nbsp;Tensor,&nbsp;a&nbsp;tensor&nbsp;scoped&nbsp;to&nbsp;a&nbsp;GPU&nbsp;tower.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;A&nbsp;string&nbsp;with&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;tensor&nbsp;without&nbsp;the&nbsp;tower&nbsp;name.</tt></dd></dl>
 <dl><dt><a name="-tower_scope_range"><strong>tower_scope_range</strong></a>(x, n_gpus, batch_size)</dt><dd><tt>Scope&nbsp;and&nbsp;sliced&nbsp;input&nbsp;generator&nbsp;for&nbsp;multi-GPU&nbsp;environment.<br>
&nbsp;<br>
This&nbsp;iterator&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;wrap&nbsp;around&nbsp;model&nbsp;construction&nbsp;and&nbsp;will<br>
generate&nbsp;an&nbsp;appropriate&nbsp;GPU&nbsp;scope&nbsp;and&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;input&nbsp;tensor.<br>
This&nbsp;iterator&nbsp;will&nbsp;automatically&nbsp;reuse&nbsp;variable&nbsp;scope&nbsp;after&nbsp;first&nbsp;<br>
tower.&nbsp;<br>
&nbsp;<br>
Args:&nbsp;<br>
&nbsp;&nbsp;x:&nbsp;Tensor,&nbsp;the&nbsp;input&nbsp;tensor&nbsp;to&nbsp;this&nbsp;model.&nbsp;&nbsp;<br>
&nbsp;&nbsp;n_gpus:&nbsp;Integer,&nbsp;number&nbsp;of&nbsp;GPUs&nbsp;available.&nbsp;&nbsp;<br>
&nbsp;&nbsp;batch_size:&nbsp;Integer,&nbsp;size&nbsp;of&nbsp;the&nbsp;slice&nbsp;to&nbsp;be&nbsp;created&nbsp;for&nbsp;this&nbsp;GPU&nbsp;<br>
&nbsp;&nbsp;from&nbsp;the&nbsp;original&nbsp;input&nbsp;tensor.<br>
&nbsp;&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;An&nbsp;iterator&nbsp;that&nbsp;returns&nbsp;a&nbsp;3&nbsp;tuple&nbsp;containing&nbsp;the&nbsp;input&nbsp;for&nbsp;this&nbsp;<br>
&nbsp;&nbsp;GPU,&nbsp;the&nbsp;scope,&nbsp;and&nbsp;the&nbsp;GPU's&nbsp;id.</tt></dd></dl>
 <dl><dt><a name="-variables_on_cpu"><strong>variables_on_cpu</strong></a>(gpu_id)</dt><dd><tt>Keeps&nbsp;variables&nbsp;on&nbsp;the&nbsp;CPU&nbsp;when&nbsp;used&nbsp;in&nbsp;tf.device().<br>
&nbsp;<br>
This&nbsp;can&nbsp;be&nbsp;passed&nbsp;to&nbsp;a&nbsp;`tf.device()`&nbsp;call&nbsp;to&nbsp;dynamically&nbsp;decide<br>
where&nbsp;to&nbsp;put&nbsp;ops&nbsp;and&nbsp;tensors&nbsp;within&nbsp;that&nbsp;device&nbsp;scope.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;gpu_id:&nbsp;Integer,&nbsp;GPU&nbsp;to&nbsp;use&nbsp;if&nbsp;CPU&nbsp;is&nbsp;not&nbsp;appropriate.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;Helper&nbsp;function&nbsp;that&nbsp;returns&nbsp;a&nbsp;GPU&nbsp;or&nbsp;CPU&nbsp;device&nbsp;id.</tt></dd></dl>
 <dl><dt><a name="-visualize_parameters"><strong>visualize_parameters</strong></a>()</dt></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>BOLD</strong> = '<font color="#c040c0">\x1b</font>[1m'<br>
<strong>ENDC</strong> = '<font color="#c040c0">\x1b</font>[0m'<br>
<strong>FAIL</strong> = '<font color="#c040c0">\x1b</font>[91m'<br>
<strong>HEADER</strong> = '<font color="#c040c0">\x1b</font>[95m'<br>
<strong>OKBLUE</strong> = '<font color="#c040c0">\x1b</font>[94m'<br>
<strong>OKGREEN</strong> = '<font color="#c040c0">\x1b</font>[92m'<br>
<strong>UNDERLINE</strong> = '<font color="#c040c0">\x1b</font>[4m'<br>
<strong>WARNING</strong> = '<font color="#c040c0">\x1b</font>[93m'<br>
<strong>absolute_import</strong> = _Feature((2, 5, 0, 'alpha', 1), (3, 0, 0, 'alpha', 0), 16384)<br>
<strong>division</strong> = _Feature((2, 2, 0, 'alpha', 2), (3, 0, 0, 'alpha', 0), 8192)<br>
<strong>print_function</strong> = _Feature((2, 6, 0, 'alpha', 2), (3, 0, 0, 'alpha', 0), 65536)</td></tr></table>
</body></html>